import{initHeader}from"./modules/header.js";import{initTheme}from"./modules/theme.js";import{initReveal}from"./modules/reveal.js";import{initAccessibility}from"./modules/accessibility.js";import{initCart,initCartPage,initAddToCartButtons,initCheckoutSummary}from"./modules/cart.js";import{initFeaturedProducts,initShopProducts,initProductDetails,initRelatedProducts,initNewArrivalsProducts,initSaleProducts}from"./modules/products.js";import{initFilters}from"./modules/filters.js";const initForms=()=>{const t=document.querySelectorAll("[data-contact-form], [data-checkout-form]");if(!t.length)return;t.forEach(t=>{const e=t.querySelector("[data-form-status]");t.addEventListener("submit",i=>{i.preventDefault();let a=!0;t.querySelectorAll("input, textarea, select").forEach(t=>{if(t.hasAttribute("required")){const e=t.value.trim(),i=e.length>0&&(!t.type.includes("email")||(t=>/\S+@\S+\.\S+/.test(t))(e));t.setAttribute("aria-invalid",String(!i)),i||(a=!1)}}),a?(e&&(e.textContent="Dziękujemy! Twoje zgłoszenie zostało przyjęte."),t.reset()):e&&(e.textContent="Uzupełnij wymagane pola i popraw adres e-mail.")})})},initApp=()=>{const t=t=>document.querySelector(t);document.body&&initAccessibility(),t("[data-header]")&&initHeader(),t("[data-theme-toggle]")&&initTheme(),t("[data-reveal]")&&initReveal(),t("[data-cart-count]")&&initCart(),t('[data-products="featured"]')&&initFeaturedProducts(),t('[data-products="shop"]')&&(initShopProducts(),initFilters()),t('[data-products="new"]')&&initNewArrivalsProducts(),t('[data-products="related"]')&&initRelatedProducts(),t('[data-products="sale"]')&&initSaleProducts(),t("[data-product-details]")&&initProductDetails(),t("[data-cart-items]")&&initCartPage(),t("[data-checkout-summary]")&&initCheckoutSummary(),t("[data-contact-form], [data-checkout-form]")&&initForms(),t("[data-add-to-cart]")&&initAddToCartButtons()};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initApp,{once:!0}):initApp();