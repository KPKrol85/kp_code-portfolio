"use strict";function initScrollspy(e){if(e&&e.pageClass&&e.ids&&e.listSelector&&(document.body&&document.body.classList.contains(e.pageClass))){var t=Array.prototype.slice.call(document.querySelectorAll(e.listSelector));if(t.length){var n=Object.create(null);t.forEach(function(e){var t=(e.getAttribute("href")||"").replace(/^#/,"");t&&(n[t]=e)});var r=t.length?t[0].closest("ul"):null;r&&r.addEventListener("click",function(e){var t=e.target.closest('a[href^="#"]');if(t){var n=(t.getAttribute("href")||"").replace(/^#/,"");n&&(v(n),"undefined"!=typeof history&&"function"==typeof history.replaceState&&history.replaceState(null,"","#"+n))}}),v(e.ids[0]);var i=document.querySelector(".site-header"),a=e.stickySelector?document.querySelector(e.stickySelector):null,o=i?i.offsetHeight:64,c=a?a.offsetHeight:0,l="function"==typeof window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,u=e.topPercent?e.topPercent:-(o+c+10)+"px",s=l?e.bottomPercentMobile||"-65%":e.bottomPercent||"-55%";if("function"==typeof IntersectionObserver){var d=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target.getAttribute("id");t&&v(t)}})},{root:null,rootMargin:u+" 0px "+s+" 0px",threshold:.01});e.ids.forEach(function(e){var t=document.getElementById(e);t&&d.observe(t)})}else{var f=(location.hash||"").replace(/^#/,"");v(f&&n[f]?f:e.ids[0])}window.addEventListener("hashchange",function(){var e=(location.hash||"").replace(/^#/,"");e&&n[e]&&v(e)});var m=!1;window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h),setTimeout(p,0)}}function v(e){t.forEach(function(t){(t.getAttribute("href")||"").replace(/^#/,"")===e?(t.classList.add("is-active"),t.setAttribute("aria-current","true")):(t.classList.remove("is-active"),t.removeAttribute("aria-current"))})}function p(){o=i?i.offsetHeight:64,c=a?a.offsetHeight:0;for(var t=window.scrollY+o+c+8,n=e.ids[0],r=0;r<e.ids.length;r++){var l=document.getElementById(e.ids[r]);if(l)l.getBoundingClientRect().top+window.scrollY<=t&&(n=e.ids[r])}v(n)}function h(){m||(m=!0,requestAnimationFrame(function(){p(),m=!1}))}}function initReveal(){var e=Array.prototype.slice.call(document.querySelectorAll("[data-reveal]"));if(e.length){var t="function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null,n=!!t&&t.matches,r="function"==typeof window.IntersectionObserver,i=null,a=function(e){e.classList.add("is-visible")};if(e.forEach(function(e){e.classList.add("reveal")}),document.querySelectorAll("[data-reveal-group]").forEach(function(e){e.querySelectorAll("[data-reveal]").forEach(function(e,t){e.style.setProperty("--reveal-delay",(80*t).toString()+"ms")})}),r&&!n){if(i=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(a(e.target),t.unobserve(e.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15}),e.forEach(function(e){!function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight||0;return t.top<=.9*n&&t.bottom>=0}(e)?i.observe(e):a(e)}),t){var o=function(t){t.matches&&i&&(i.disconnect(),e.forEach(a))};"function"==typeof t.addEventListener?t.addEventListener("change",o):"function"==typeof t.addListener&&t.addListener(o)}}else e.forEach(a)}}!function(){var e=document.documentElement,t="kp-theme",n=null,r="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,i=!1;function a(e){return"string"==typeof e?document.querySelector(e):e||null}function o(){return"undefined"!=typeof window&&"function"==typeof window.matchMedia&&window.matchMedia("(max-width: 1023px)").matches}function c(e,t){if(e){if(!o())return e.removeAttribute("aria-hidden"),void e.removeAttribute("inert");if(e.setAttribute("aria-hidden",String(!t)),t)e.removeAttribute("inert");else try{e.setAttribute("inert","")}catch(e){}}}function l(e,t){e.setAttribute("aria-expanded",String(t));var n=a("#primary-nav");n&&(n.setAttribute("data-open",String(t)),c(n,t))}function u(r,o){o=o||{};var c="dark"===r?"dark":"light";e.setAttribute("data-theme",c),function(e){var t=a(".theme-toggle");if(t){var n="dark"===e;t.setAttribute("aria-pressed",String(n));var r=n?"Przełącz na tryb jasny":"Przełącz na tryb ciemny";t.setAttribute("aria-label",r);var i=t.querySelector(".visually-hidden");i&&(i.textContent=r)}}(c),function(e){n||(n=document.querySelector('meta[name="theme-color"]')),n&&n.setAttribute("content","dark"===e?"#181210":"#f8f1e7")}(c),o.persist&&function(e){try{localStorage.setItem(t,e),i=!0}catch(e){}}(c),o.silent||function(e){"undefined"!=typeof window&&"function"==typeof window.CustomEvent&&window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}(c)}function s(){var n=a(".theme-toggle");if(n){var o=function(){try{var e=localStorage.getItem(t);return"dark"===e||"light"===e?e:null}catch(e){return null}}();o&&(i=!0);var c=o||e.getAttribute("data-theme");if(!c&&r&&"boolean"==typeof r.matches&&(c=r.matches?"dark":"light"),u(c||"light",{silent:!0}),n.addEventListener("click",function(){u("dark"===("dark"===e.getAttribute("data-theme")?"dark":"light")?"light":"dark",{persist:!0})}),r){var l=function(e){i||u(e.matches?"dark":"light")};"function"==typeof r.addEventListener?r.addEventListener("change",l):"function"==typeof r.addListener&&r.addListener(l)}}}"undefined"!=typeof window&&(window.initThemeToggle=s),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("year");e&&(e.textContent=String((new Date).getFullYear()));var t=a(".nav-toggle"),n=a("#primary-nav");t&&t.addEventListener("click",function(){var e="true"===t.getAttribute("aria-expanded");l(t,!e);var n=!e;t.setAttribute("aria-label",n?"Zamknij menu":"Otwórz menu")}),n&&(c(n,t&&"true"===t.getAttribute("aria-expanded")),n.addEventListener("click",function(e){e.target.closest("a")&&o()&&t&&"true"===t.getAttribute("aria-expanded")&&(l(t,!1),t.setAttribute("aria-label","Otwórz menu"))}),window.addEventListener("resize",function(){c(n,t&&"true"===t.getAttribute("aria-expanded"))})),document.addEventListener("keyup",function(e){"Escape"===e.key&&t&&"true"===t.getAttribute("aria-expanded")&&l(t,!1)}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(t){var n=e.getAttribute("href");if(n&&"#"!==n){var r=document.querySelector(n);r&&(t.preventDefault(),r.scrollIntoView({behavior:"smooth",block:"start"}),r.setAttribute("tabindex","-1"),r.focus({preventScroll:!0}))}})});var r=a(".form"),i=a("#form-status");if(r){var u=a("#form-progress"),d=[r.querySelector("#name"),r.querySelector("#email"),r.querySelector("#message")].filter(Boolean),f=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function y(e,t){return e?"name"===e.id?t.length>=2?"":"Podaj imię i nazwisko (min. 2 znaki).":"email"===e.id?f.test(t)?"":"Wpisz poprawny adres e-mail.":"message"===e.id?t.length>=10?"":"Wiadomość powinna mieć co najmniej 10 znaków.":"":""}function b(e,t){var n=e?a("#error-"+e.id):null;n&&(n.textContent=t||""),e&&(t?(e.setAttribute("aria-invalid","true"),e.classList.add("is-invalid")):(e.removeAttribute("aria-invalid"),e.classList.remove("is-invalid")))}function g(e,t){if(!e)return!0;var n=e.value.trim(),r=y(e,n);return t&&b(e,r),!r}function A(){if(u){var e=0;d.forEach(function(t){g(t,!1)&&e++});var t=d.length-e;if(t<=0)u.textContent="Formularz gotowy do wysłania.";else{var n,r,i,a,o,c,l=(r="pole",i="pola",a="pól",o=(n=t)%10,c=n%100,1===n?r:o>=2&&o<=4&&!(c>=12&&c<=14)?i:a);u.textContent="Uzupełnij "+t+" "+l+", aby wysłać."}}}d.forEach(function(e){e.addEventListener("blur",function(){e.dataset.touched="true",g(e,!0),A()}),e.addEventListener("input",function(){"true"===e.dataset.touched&&g(e,!0),A()})}),A(),r.addEventListener("submit",function(e){if(e.preventDefault(),d.length){var t,n,a,o=(t=!0,n=null,a=!0,d.forEach(function(e){var r=g(e,t||"true"===e.dataset.touched);r||n||(n=e),a=a&&r}),{valid:a,firstInvalid:n});if(!o.valid)return i&&(i.classList.remove("visually-hidden"),i.textContent="Uzupełnij poprawnie wyróżnione pola."),void(o.firstInvalid&&o.firstInvalid.focus());i&&(i.classList.remove("visually-hidden"),i.textContent="Wysyłanie…"),setTimeout(function(){i&&(i.textContent="Dziękujemy! Wiadomość została wysłana."),r.reset(),d.forEach(function(e){e.dataset.touched="",b(e,"")}),A()},800)}})}var m=a(".site-header");if(m){var v=!1,p=null,h=function(){var e=window.scrollY>8;e!==p&&(m.classList.toggle("is-scrolled",e),p=e),v=!1};h(),window.addEventListener("scroll",function(){v||(v=!0,window.requestAnimationFrame(h))},{passive:!0})}initReveal(),s()})}(),document.addEventListener("DOMContentLoaded",function(){initScrollspy({pageClass:"page-gallery",ids:["wnetrza","dania","desery","napoje"],listSelector:'.gallery-tabs__list a[href^="#"]',stickySelector:".gallery-tabs",bottomPercent:"-55%",bottomPercentMobile:"-65%"})}),function(){const e=document.documentElement;let t=document.querySelector(".lb-overlay");if(!t){t=document.createElement("div"),t.className="lb-overlay",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-label","Podgląd zdjęcia");const e=document.createElement("div");e.className="lb-modal";const n=document.createElement("figure");n.className="lb-figure";const r=document.createElement("img");r.alt="",r.decoding="async",r.loading="eager";const i=document.createElement("figcaption");i.className="lb-caption";const a=document.createElement("div");a.className="lb-controls";const o=document.createElement("button");o.type="button",o.className="lb-btn lb-prev",o.setAttribute("aria-label","Poprzednie zdjęcie"),o.textContent="←";const c=document.createElement("span");c.className="lb-counter",c.textContent="1/1";const l=document.createElement("button");l.type="button",l.className="lb-btn lb-next",l.setAttribute("aria-label","Następne zdjęcie"),l.textContent="→";const u=document.createElement("button");u.type="button",u.className="lb-btn lb-full",u.setAttribute("aria-label","Pełny ekran"),u.textContent="⤢";const s=document.createElement("button");s.type="button",s.className="lb-btn lb-close",s.setAttribute("aria-label","Zamknij podgląd"),s.textContent="×",a.append(o,c,l,u,s);try{o.textContent="←",l.textContent="→",s.textContent="×",o.setAttribute("aria-label","Poprzednie zdjęcie"),o.setAttribute("title","Poprzednie zdjęcie"),l.setAttribute("aria-label","Następne zdjęcie"),l.setAttribute("title","Następne zdjęcie"),u.setAttribute("aria-label","Pełny ekran"),u.setAttribute("title","Pełny ekran"),s.setAttribute("aria-label","Zamknij podgląd"),s.setAttribute("title","Zamknij podgląd"),i.id="lb-caption",t.setAttribute("aria-label","Podgląd zdjęcia"),t.setAttribute("aria-describedby","lb-caption"),t.setAttribute("aria-keyshortcuts","Esc ArrowLeft ArrowRight F")}catch(e){}const d=document.createElement("div");d.className="visually-hidden",d.id="lb-live",d.setAttribute("aria-live","polite"),n.append(r,i),e.append(n,a,d),t.append(e),document.body.appendChild(t)}const n=t.querySelector("img"),r=t.querySelector(".lb-caption"),i=t.querySelector(".lb-close"),a=t.querySelector(".lb-prev"),o=t.querySelector(".lb-next"),c=t.querySelector(".lb-full"),l=t.querySelector(".lb-counter"),u=t.querySelector("#lb-live"),s=Array.prototype.slice.call(document.querySelectorAll("header, main, footer"));function d(e){s.forEach(function(t){if(t)if(e){try{t.setAttribute("inert","")}catch(e){}t.setAttribute("aria-hidden","true")}else{try{t.removeAttribute("inert")}catch(e){}t.removeAttribute("aria-hidden")}})}c&&!c.getAttribute("title")&&c.setAttribute("title","Pełny ekran (F)");let f=[],m=0,v=null;function p(){if(!n||!a||!o)return;const e=n.getBoundingClientRect();if(!e||!e.height)return;const t=e.top+e.height/2;a.style.top=t+"px",o.style.top=t+"px"}function h(e){const t=f[e];t&&(n.classList.remove("is-ready"),n.onload=function(){n.classList.add("is-ready"),p()},n.src=t.getAttribute("href"),r.textContent=function(e){if(!e)return"";const t=e.getAttribute("data-lb-caption");if(t)return t.trim();const n=e.querySelector("figcaption");if(n&&n.textContent.trim())return n.textContent.trim();const r=e.querySelector("img");return r&&r.alt.trim()?r.alt.trim():""}(t)||"",l.textContent=m+1+"/"+f.length,u&&(u.textContent="Obraz "+(m+1)+" z "+f.length),function(e){[f[e+1],f[e-1]].forEach(e=>{e&&((new Image).src=e.getAttribute("href"))})}(e),requestAnimationFrame(p))}function y(){e.classList.remove("lb-open"),n.removeAttribute("src"),v&&v.focus(),document.fullscreenElement&&document.exitFullscreen().catch(()=>{}),d(!1)}function b(){m=(m+1)%f.length,h(m)}function g(){m=(m-1+f.length)%f.length,h(m)}t.addEventListener("click",e=>{e.target}),document.addEventListener("keydown",n=>{if(e.classList.contains("lb-open"))if("Escape"!==n.key)if("ArrowRight"!==n.key&&"PageDown"!==n.key){if("ArrowLeft"!==n.key&&"PageUp"!==n.key)return"Home"===n.key?(m=0,void h(m)):"End"===n.key?(m=f.length-1,void h(m)):void("f"===n.key.toLowerCase()&&(document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():t.requestFullscreen&&t.requestFullscreen()));g()}else b();else y()}),window.addEventListener("resize",p),window.addEventListener("orientationchange",p),document.addEventListener("fullscreenchange",p);let A=0,E=0,w=0;t.addEventListener("touchstart",function(e){if(!e.changedTouches||!e.changedTouches.length)return;const t=e.changedTouches[0];A=t.clientX,E=t.clientY,w=Date.now()},{passive:!0}),t.addEventListener("touchend",function(e){if(!e.changedTouches||!e.changedTouches.length)return;const t=e.changedTouches[0],n=t.clientX-A,r=t.clientY-E,i=Date.now()-w;Math.abs(n)>40&&Math.abs(n)>Math.abs(r)&&i<600&&(n<0?b():g())},{passive:!0}),document.addEventListener("fullscreenchange",function(){e.classList.toggle("is-fullscreen",!!document.fullscreenElement)}),function(){let e=null;t.addEventListener("mousemove",function(n){const r=n.clientY-t.getBoundingClientRect().top;e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>function(e){if(document.fullscreenElement)return;t.classList.toggle("lb-topzone",e<=96)}(r))}),t.addEventListener("mouseleave",function(){t.classList.remove("lb-topzone")})}(),t.addEventListener("keydown",e=>{if("Tab"!==e.key)return;const n=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!n.length)return;const r=n[0],i=n[n.length-1];e.shiftKey&&document.activeElement===r?(i.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==i||(r.focus(),e.preventDefault())}),i.addEventListener("click",y),a.addEventListener("click",g),o.addEventListener("click",b),c.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():t.requestFullscreen&&t.requestFullscreen()}),document.addEventListener("click",t=>{const n=t.target.closest(".gallery__link");if(!n)return;n.getAttribute("href")&&(t.preventDefault(),function(t){v=t;const n=t.getAttribute("data-lightbox")||"gallery";f=Array.prototype.slice.call(document.querySelectorAll(".gallery__link"+(n?'[data-lightbox="'+n+'"]':""))),m=Math.max(0,f.indexOf(t)),e.classList.add("lb-open"),h(m),requestAnimationFrame(()=>i.focus()),d(!0)}(n))})}(),"undefined"!=typeof window&&(window.initReveal=initReveal),document.addEventListener("DOMContentLoaded",function(){document.body&&document.body.classList.contains("page--menu")&&(initScrollspy({pageClass:"page--menu",ids:["przystawki","dania-glowne","zupy","kuchnia-szefa","desery","drinki"],listSelector:'.menu-tabs__list a[href^="#"]',stickySelector:".menu-navigation",topPercent:"-40%",bottomPercent:"-55%",bottomPercentMobile:"-65%"}),function(){var e=document.getElementById("menu-search"),t=document.querySelector(".menu-filters .filters");if(e&&t){var n=Array.prototype.slice.call(t.querySelectorAll("button[data-filter]")),r=Array.prototype.slice.call(document.querySelectorAll(".menu-card")),i=document.querySelector(".filters__empty");r.forEach(function(e){var t=Array.prototype.slice.call(e.querySelectorAll(".menu-card__tag")).map(function(e){return(e.textContent||"").trim()}).filter(Boolean);e.setAttribute("data-tags",t.join(","))});var a,o,c="*",l="",u=null;e.addEventListener("input",(a=function(){l=e.value||"",d()},o=200,function(){var e=arguments;clearTimeout(u),u=setTimeout(function(){a.apply(null,e)},o)})),t.addEventListener("click",function(e){var t=e.target.closest("button[data-filter]");t&&(n.forEach(function(e){e.classList.toggle("is-active",e===t)}),c=t.getAttribute("data-filter")||"*",d())}),d()}function s(e){return(e||"").toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function d(){var e=0,t=s(l);r.forEach(function(n){var r=n.querySelector(".card__title"),i=n.querySelector(".card__text"),a=s((r&&r.textContent)+" "+(i&&i.textContent)),o=!t||-1!==a.indexOf(t),l=(n.getAttribute("data-tags")||"").split(",").map(function(e){return e.trim()}),u="*"===c||-1!==l.indexOf(c),d=o&&u;n.style.display=d?"":"none",d&&e++}),i&&(i.hidden=0!==e,0===e&&(i.textContent="Brak pozycji spełniających kryteria."))}}(),Array.prototype.slice.call(document.querySelectorAll(".menu-card__price")).forEach(function(e){var t=(e.textContent||"").trim(),n=t.match(/[0-9]+(?:[\.,][0-9]+)?/),r=n?n[0]:t;e.setAttribute("aria-label",r+" złotych")}),Array.prototype.slice.call(document.querySelectorAll(".menu-card")).forEach(function(e){var t=e.querySelector("figure"),n=t?t.querySelector("img"):null,r=e.querySelector(".card__title"),i=e.querySelector(".card__text");if(t){var a=r?r.textContent.trim():"",o=i?i.textContent.trim():"";n&&a&&(n.alt=a);var c=t.querySelector("figcaption"),l=a+(o?". "+o:"")+" — alergeny: wg obsługi.";if(c)c.textContent=l,c.classList.add("visually-hidden");else{var u=document.createElement("figcaption");u.className="visually-hidden",u.textContent=l,t.appendChild(u)}}}),function(){function e(e){if(e){var t,n=e.getAttribute("id");if(n||(t=e.textContent,(n=(t||"").toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-"))&&e.setAttribute("id",n)),n&&!e.querySelector(".anchor")){var r=document.createElement("a");r.className="anchor",r.href="#"+n,r.setAttribute("aria-label","Kopiuj link do tego elementu"),r.addEventListener("click",function(e){e.preventDefault();var t=location.origin+location.pathname+"#"+n;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(function(){r.setAttribute("aria-label","Skopiowano link"),setTimeout(function(){r.setAttribute("aria-label","Kopiuj link do tego elementu")},1e3)});else{var i=document.createElement("input");i.value=t,document.body.appendChild(i),i.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(i)}"undefined"!=typeof history&&history.replaceState&&history.replaceState(null,"","#"+n)}),e.appendChild(r)}}}document.querySelectorAll(".menu-section__header h2").forEach(e),document.querySelectorAll(".card__title").forEach(e)}())});