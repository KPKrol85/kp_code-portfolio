"use strict";function initReveal(){var e=Array.prototype.slice.call(document.querySelectorAll("[data-reveal]"));if(e.length){var t="function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null,n=!!t&&t.matches,r="function"==typeof window.IntersectionObserver,a=null,i=function(e){e.classList.add("is-visible")};if(e.forEach(function(e){e.classList.add("reveal")}),document.querySelectorAll("[data-reveal-group]").forEach(function(e){e.querySelectorAll("[data-reveal]").forEach(function(e,t){e.style.setProperty("--reveal-delay",(80*t).toString()+"ms")})}),r&&!n){if(a=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(i(e.target),t.unobserve(e.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15}),e.forEach(function(e){!function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight||0;return t.top<=.9*n&&t.bottom>=0}(e)?a.observe(e):i(e)}),t){var o=function(t){t.matches&&a&&(a.disconnect(),e.forEach(i))};"function"==typeof t.addEventListener?t.addEventListener("change",o):"function"==typeof t.addListener&&t.addListener(o)}}else e.forEach(i)}}!function(){var e=document.documentElement,t="kp-theme",n=null,r="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,a=!1;function i(e){return"string"==typeof e?document.querySelector(e):e||null}function o(e,t){e.setAttribute("aria-expanded",String(t));var n=i("#primary-nav");n&&n.setAttribute("data-open",String(t))}function c(r,o){o=o||{};var c="dark"===r?"dark":"light";e.setAttribute("data-theme",c),function(e){var t=i(".theme-toggle");if(t){var n="dark"===e;t.setAttribute("aria-pressed",String(n));var r=n?"Switch to light mode":"Switch to dark mode";t.setAttribute("aria-label",r);var a=t.querySelector(".visually-hidden");a&&(a.textContent=r)}}(c),function(e){n||(n=document.querySelector('meta[name="theme-color"]')),n&&n.setAttribute("content","dark"===e?"#181210":"#f8f1e7")}(c),o.persist&&function(e){try{localStorage.setItem(t,e),a=!0}catch(e){}}(c),o.silent||function(e){"undefined"!=typeof window&&"function"==typeof window.CustomEvent&&window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}(c)}function l(){var n=i(".theme-toggle");if(n){var o=function(){try{var e=localStorage.getItem(t);return"dark"===e||"light"===e?e:null}catch(e){return null}}();o&&(a=!0);var l=o||e.getAttribute("data-theme");if(!l&&r&&"boolean"==typeof r.matches&&(l=r.matches?"dark":"light"),c(l||"light",{silent:!0}),n.addEventListener("click",function(){c("dark"===("dark"===e.getAttribute("data-theme")?"dark":"light")?"light":"dark",{persist:!0})}),r){var d=function(e){a||c(e.matches?"dark":"light")};"function"==typeof r.addEventListener?r.addEventListener("change",d):"function"==typeof r.addListener&&r.addListener(d)}}}"undefined"!=typeof window&&(window.initThemeToggle=l),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("year");e&&(e.textContent=String((new Date).getFullYear()));var t=i(".nav-toggle");t&&t.addEventListener("click",function(){var e="true"===t.getAttribute("aria-expanded");o(t,!e)}),document.addEventListener("keyup",function(e){"Escape"===e.key&&t&&"true"===t.getAttribute("aria-expanded")&&o(t,!1)}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(t){var n=e.getAttribute("href");if(n&&"#"!==n){var r=document.querySelector(n);r&&(t.preventDefault(),r.scrollIntoView({behavior:"smooth",block:"start"}),r.setAttribute("tabindex","-1"),r.focus({preventScroll:!0}))}})});var n=i(".form"),r=i("#form-status");n&&n.addEventListener("submit",function(e){e.preventDefault();var t=n.querySelector("#name"),a=n.querySelector("#email"),i=n.querySelector("#message");t&&a&&i&&(r&&(r.classList.remove("visually-hidden"),r.textContent="Sending…"),setTimeout(function(){var e=t.value.trim(),o=a.value.trim(),c=i.value.trim();e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&c?(r&&(r.textContent="Thank you! Your message has been sent."),n.reset()):r&&(r.textContent="Please enter a valid name, email, and message.")},800))}),initReveal(),l()})}(),function(){const e=document.documentElement;let t=document.querySelector(".lb-overlay");if(!t){t=document.createElement("div"),t.className="lb-overlay",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-label","Podgląd zdjęcia");const e=document.createElement("div");e.className="lb-modal";const n=document.createElement("figure");n.className="lb-figure";const r=document.createElement("img");r.alt="",r.decoding="async",r.loading="eager";const a=document.createElement("figcaption");a.className="lb-caption";const i=document.createElement("button");i.type="button",i.className="lb-close",i.setAttribute("aria-label","Zamknij podgląd"),i.innerHTML="&times;",n.append(r,a),e.append(i,n),t.append(e),document.body.appendChild(t)}const n=t.querySelector("img"),r=t.querySelector(".lb-caption"),a=t.querySelector(".lb-close");function i(){e.classList.remove("lb-open"),n.removeAttribute("src")}t.addEventListener("click",e=>{e.target===t&&i()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("lb-open")&&i()}),t.addEventListener("keydown",e=>{if("Tab"!==e.key)return;const n=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!n.length)return;const r=n[0],a=n[n.length-1];e.shiftKey&&document.activeElement===r?(a.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==a||(r.focus(),e.preventDefault())}),a.addEventListener("click",i),document.addEventListener("click",t=>{const i=t.target.closest(".gallery__link");if(!i)return;const o=i.getAttribute("href");if(!o)return;t.preventDefault();const c=function(e){if(!e)return"";const t=e.getAttribute("data-lb-caption");if(t)return t.trim();const n=e.querySelector("figcaption");if(n&&n.textContent.trim())return n.textContent.trim();const r=e.querySelector("img");return r&&r.alt.trim()?r.alt.trim():""}(i);var l,d;l=o,d=c,n.src=l,r.textContent=d||"",e.classList.add("lb-open"),requestAnimationFrame(()=>a.focus())})}(),"undefined"!=typeof window&&(window.initReveal=initReveal);