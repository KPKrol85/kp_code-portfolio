"use strict";function initScrollspy(e){if(e&&e.pageClass&&e.ids&&e.listSelector&&(document.body&&document.body.classList.contains(e.pageClass))){var t=Array.prototype.slice.call(document.querySelectorAll(e.listSelector));if(t.length){var n=Object.create(null);t.forEach(function(e){var t=(e.getAttribute("href")||"").replace(/^#/,"");t&&(n[t]=e)});var i=t.length?t[0].closest("ul"):null;i&&i.addEventListener("click",function(e){var t=e.target.closest('a[href^="#"]');if(t){var n=(t.getAttribute("href")||"").replace(/^#/,"");n&&(v(n),"undefined"!=typeof history&&"function"==typeof history.replaceState&&history.replaceState(null,"","#"+n))}}),v(e.ids[0]);var r=document.querySelector(".site-header"),a=e.stickySelector?document.querySelector(e.stickySelector):null,o=r?r.offsetHeight:64,c=a?a.offsetHeight:0,l="function"==typeof window.matchMedia&&window.matchMedia("(max-width: 640px)").matches,u=e.topPercent?e.topPercent:-(o+c+10)+"px",s=l?e.bottomPercentMobile||"-65%":e.bottomPercent||"-55%";if("function"==typeof IntersectionObserver){var d=new IntersectionObserver(function(e){e.forEach(function(e){if(e.isIntersecting){var t=e.target.getAttribute("id");t&&v(t)}})},{root:null,rootMargin:u+" 0px "+s+" 0px",threshold:.01});e.ids.forEach(function(e){var t=document.getElementById(e);t&&d.observe(t)})}else{var f=(location.hash||"").replace(/^#/,"");v(f&&n[f]?f:e.ids[0])}window.addEventListener("hashchange",function(){var e=(location.hash||"").replace(/^#/,"");e&&n[e]&&v(e)});var m=!1;window.addEventListener("scroll",h,{passive:!0}),window.addEventListener("resize",h),setTimeout(p,0)}}function v(e){t.forEach(function(t){(t.getAttribute("href")||"").replace(/^#/,"")===e?(t.classList.add("is-active"),t.setAttribute("aria-current","true")):(t.classList.remove("is-active"),t.removeAttribute("aria-current"))})}function p(){o=r?r.offsetHeight:64,c=a?a.offsetHeight:0;for(var t=window.scrollY+o+c+8,n=e.ids[0],i=0;i<e.ids.length;i++){var l=document.getElementById(e.ids[i]);if(l)l.getBoundingClientRect().top+window.scrollY<=t&&(n=e.ids[i])}v(n)}function h(){m||(m=!0,requestAnimationFrame(function(){p(),m=!1}))}}function initReveal(){var e=Array.prototype.slice.call(document.querySelectorAll("[data-reveal]"));if(e.length){var t="function"==typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null,n=!!t&&t.matches,i="function"==typeof window.IntersectionObserver,r=null,a=function(e){e.classList.add("is-visible")};if(e.forEach(function(e){e.classList.add("reveal")}),document.querySelectorAll("[data-reveal-group]").forEach(function(e){e.querySelectorAll("[data-reveal]").forEach(function(e,t){e.style.setProperty("--reveal-delay",(80*t).toString()+"ms")})}),i&&!n){if(r=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(a(e.target),t.unobserve(e.target))})},{root:null,rootMargin:"0px 0px -10% 0px",threshold:.15}),e.forEach(function(e){!function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight||0;return t.top<=.9*n&&t.bottom>=0}(e)?r.observe(e):a(e)}),t){var o=function(t){t.matches&&r&&(r.disconnect(),e.forEach(a))};"function"==typeof t.addEventListener?t.addEventListener("change",o):"function"==typeof t.addListener&&t.addListener(o)}}else e.forEach(a)}}!function(){var e=document.documentElement;e.classList.add("js");var t="kp-theme",n=null,i="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,r=!1;function a(e){return"string"==typeof e?document.querySelector(e):e||null}function o(){var e=document.getElementById("network-status");e||((e=document.createElement("div")).id="network-status",e.className="net-status",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),document.body.appendChild(e));var t=null,n=null;function i(i){n!==i&&(n=i,t&&(clearTimeout(t),t=null),i?(e.textContent="Połączenie przywrócone.",e.classList.add("is-visible"),e.classList.remove("is-offline"),t=setTimeout(function(){e.classList.remove("is-visible")},4e3)):(e.textContent="Jesteś offline — część treści może być niedostępna.",e.classList.add("is-visible"),e.classList.add("is-offline")),function(e){var t=document.querySelectorAll(".offline-note[data-auto]");if(e)t.forEach(function(e){e.remove()});else{var n=document.querySelector(".page--menu .page-hero__content");if(n&&!n.querySelector(".offline-note")){var i=document.createElement("p");i.className="offline-note",i.dataset.auto="true",i.setAttribute("role","status"),i.setAttribute("aria-live","polite"),i.textContent="Jesteś offline — wyświetlamy ostatnio zapisane menu. Część zdjęć może być niedostępna.",n.appendChild(i)}var r=document.querySelector(".page--gallery .page-hero__content");if(r&&!r.querySelector(".offline-note")){var a=document.createElement("p");a.className="offline-note",a.dataset.auto="true",a.setAttribute("role","status"),a.setAttribute("aria-live","polite"),a.textContent="Jesteś offline — jeśli galeria nie była wcześniej odwiedzona, część zdjęć może się nie wczytać.",r.appendChild(a)}}}(i))}i("undefined"==typeof navigator||!("onLine"in navigator)||navigator.onLine),window.addEventListener("online",function(){i(!0)}),window.addEventListener("offline",function(){i(!1)})}function c(){return"undefined"!=typeof window&&"function"==typeof window.matchMedia&&window.matchMedia("(max-width: 1023px)").matches}function l(e,t){if(e){if(!c())return e.removeAttribute("aria-hidden"),void e.removeAttribute("inert");if(e.setAttribute("aria-hidden",String(!t)),t)e.removeAttribute("inert");else try{e.setAttribute("inert","")}catch(e){}}}function u(e){(e||document).querySelectorAll(".nav__item--dropdown.is-open").forEach(function(e){e.classList.remove("is-open");var t=e.querySelector(".nav__dropdown-toggle");t&&t.setAttribute("aria-expanded","false")})}var s=0,d=!1;function f(){d&&(d=!1,document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.paddingRight="",e.classList.remove("nav-open"),window.scrollTo(0,s))}function m(){var e=document.getElementById("demo-legal-modal");if(e){var t=e.querySelector(".demo-legal-modal__panel"),n=e.querySelector("[data-demo-legal-accept]"),i=e.querySelectorAll("[data-demo-legal-close]"),r="kp_demo_legal_ack",a=null,o=!1,c="";i.forEach(function(e){e.addEventListener("click",function(){s(!1)})}),n&&n.addEventListener("click",function(){s(!0)}),function(){if(!o&&!function(){try{return"1"===localStorage.getItem(r)}catch(e){return!1}}()){o=!0,a=document.activeElement,e.hidden=!1,e.setAttribute("aria-hidden","false"),c=document.body.style.overflow||"",document.body.style.overflow="hidden",requestAnimationFrame(function(){e.classList.add("is-open")}),document.addEventListener("keydown",u),document.addEventListener("keydown",l);var i=n||t;i&&i.focus&&i.focus()}}()}function l(e){if(o&&"Tab"===e.key){var n=t?Array.prototype.slice.call(t.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}):[];if(!n.length)return t&&t.focus(),void e.preventDefault();var i=n[0],r=n[n.length-1];e.shiftKey&&document.activeElement===i?(r.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==r||(i.focus(),e.preventDefault())}}function u(e){o&&"Escape"===e.key&&(e.preventDefault(),s(!1))}function s(t){o&&(t&&function(){try{localStorage.setItem(r,"1")}catch(e){}}(),o=!1,e.setAttribute("aria-hidden","true"),e.classList.remove("is-open"),document.body.style.overflow=c,document.removeEventListener("keydown",u),document.removeEventListener("keydown",l),window.setTimeout(function(){e.hidden=!0},200),a&&a.focus&&a.focus())}}function v(e,t){e.setAttribute("aria-expanded",String(t));var n=a("#primary-nav");n&&(n.setAttribute("data-open",String(t)),l(n,t))}function p(){var t=a(".site-header");if(t){var n=t.getBoundingClientRect().height;n&&e.style.setProperty("--header-offset",Math.round(n)+"px")}}var h=null;function y(){h||(h=window.requestAnimationFrame(function(){h=null,p()}))}function g(i,o){o=o||{};var c="dark"===i?"dark":"light";e.setAttribute("data-theme",c),function(e){var t=a(".theme-toggle");if(t){var n="dark"===e;t.setAttribute("aria-pressed",String(n));var i=n?"Przełącz na tryb jasny":"Przełącz na tryb ciemny";t.setAttribute("aria-label",i);var r=t.querySelector(".visually-hidden");r&&(r.textContent=i)}}(c),function(e){n||(n=document.querySelector('meta[name="theme-color"]')),n&&n.setAttribute("content","dark"===e?"#181210":"#f8f1e7")}(c),o.persist&&function(e){try{localStorage.setItem(t,e),r=!0}catch(e){}}(c),o.silent||function(e){"undefined"!=typeof window&&"function"==typeof window.CustomEvent&&window.dispatchEvent(new CustomEvent("themechange",{detail:{theme:e}}))}(c)}function b(){var n=a(".theme-toggle");if(n){var o=function(){try{var e=localStorage.getItem(t);return"dark"===e||"light"===e?e:null}catch(e){return null}}();o&&(r=!0);var c=o||e.getAttribute("data-theme");if(!c&&i&&"boolean"==typeof i.matches&&(c=i.matches?"dark":"light"),g(c||"light",{silent:!0}),n.addEventListener("click",function(){g("dark"===("dark"===e.getAttribute("data-theme")?"dark":"light")?"light":"dark",{persist:!0})}),i){var l=function(e){r||g(e.matches?"dark":"light")};"function"==typeof i.addEventListener?i.addEventListener("change",l):"function"==typeof i.addListener&&i.addListener(l)}}}"undefined"!=typeof window&&(window.initThemeToggle=b),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("year");t&&(t.textContent=String((new Date).getFullYear())),function(){if("undefined"!=typeof location){var e=t(location.pathname);document.querySelectorAll("nav a[href]").forEach(function(n){var i=n.getAttribute("href");if(i){var r=new URL(i,location.href);if(r.hash)n.removeAttribute("aria-current");else t(r.pathname)===e?n.setAttribute("aria-current","page"):n.removeAttribute("aria-current")}})}function t(e){return e&&"/"!==e?e:"/index.html"}}(),o(),m(),initImageFallbacks();var n=a(".nav-toggle"),i=a("#primary-nav"),r=i?i.querySelectorAll(".nav__dropdown-toggle"):[],h=n&&"true"===n.getAttribute("aria-expanded"),g=null,w=null;function A(){return n&&"true"===n.getAttribute("aria-expanded")}function E(){if(!i)return[];return Array.prototype.slice.call(i.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)})}function L(){g&&(document.removeEventListener("pointerdown",g,!0),g=null)}function x(){w&&(document.removeEventListener("keydown",w),w=null)}function k(t,r){if(n&&i){if(!c())return v(n,!1),h=!1,L(),x(),f(),void u(i);var a;if(t!=h)h=t,v(n,t),n.setAttribute("aria-label",t?"Zamknij menu":"Otwórz menu"),t?(!function(){if(!d){d=!0,s=window.scrollY||window.pageYOffset||0;var t=window.innerWidth-document.documentElement.clientWidth;document.body.style.position="fixed",document.body.style.top="-"+s+"px",document.body.style.width="100%",t>0&&(document.body.style.paddingRight=t+"px"),e.classList.add("nav-open")}}(),g||(g=function(e){if(A()){var t=e.target;t&&(i&&i.contains(t)||n&&n.contains(t)||k(!1))}},document.addEventListener("pointerdown",g,!0)),w||(w=function(e){if(A()&&"Tab"===e.key){var t=E();if(t.length){var n=t[0],i=t[t.length-1];e.shiftKey&&document.activeElement===n?(i.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==i||(n.focus(),e.preventDefault())}}},document.addEventListener("keydown",w)),(a=E()).length?a[0].focus():i&&i.focus&&i.focus()):(L(),x(),f(),u(i),r&&r.skipFocus||n.focus())}}n&&n.addEventListener("click",function(){k(!A()),y()}),i&&(l(i,n&&"true"===n.getAttribute("aria-expanded")),r.forEach(function(e){e.addEventListener("click",function(t){if(c()){t.preventDefault(),t.stopPropagation();var n=e.closest(".nav__item--dropdown");if(n){var r=n.classList.contains("is-open");u(i),r||(n.classList.add("is-open"),e.setAttribute("aria-expanded","true"))}}})}),i.addEventListener("click",function(e){e.target.closest("a")&&c()&&A()&&k(!1,{skipFocus:!0})}),window.addEventListener("resize",function(){l(i,n&&"true"===n.getAttribute("aria-expanded")),c()||(u(i),A()?k(!1,{skipFocus:!0}):(f(),L(),x())),y()})),document.addEventListener("keyup",function(e){"Escape"===e.key&&(A()?k(!1):u(i))});var S="function"==typeof window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(t){var n=e.getAttribute("href");if(n&&"#"!==n){var i=document.querySelector(n);i&&(t.preventDefault(),i.scrollIntoView({behavior:S?"auto":"smooth",block:"start"}),i.setAttribute("tabindex","-1"),i.focus({preventScroll:!0}))}})});var q=a(".form"),C=a("#form-status");if(q){q.setAttribute("novalidate","");var _=a("#form-progress"),z=[q.querySelector("#name"),q.querySelector("#email"),q.querySelector("#message")].filter(Boolean),M=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function I(e,t){return e?"name"===e.id?t.length>=2?"":"Podaj imię i nazwisko (min. 2 znaki).":"email"===e.id?M.test(t)?"":"Wpisz poprawny adres e-mail.":"message"===e.id?t.length>=10?"":"Wiadomość powinna mieć co najmniej 10 znaków.":"":""}function T(e,t){var n=e?a("#error-"+e.id):null;n&&(n.textContent=t||""),e&&(t?(e.setAttribute("aria-invalid","true"),e.classList.add("is-invalid")):(e.removeAttribute("aria-invalid"),e.classList.remove("is-invalid")))}function N(e,t){if(!e)return!0;var n=e.value.trim(),i=I(e,n);return t&&T(e,i),!i}function O(){if(_){var e=0;z.forEach(function(t){N(t,!1)&&e++});var t=z.length-e;if(t<=0)_.textContent="Formularz gotowy do wysłania.";else{var n,i,r,a,o,c,l=(i="pole",r="pola",a="pól",o=(n=t)%10,c=n%100,1===n?i:o>=2&&o<=4&&!(c>=12&&c<=14)?r:a);_.textContent="Uzupełnij "+t+" "+l+", aby wysłać."}}}z.forEach(function(e){e.addEventListener("blur",function(){e.dataset.touched="true",N(e,!0),O()}),e.addEventListener("input",function(){"true"===e.dataset.touched&&N(e,!0),O()})}),O(),q.addEventListener("submit",function(e){if(e.preventDefault(),z.length){var t,n,i,r=(t=!0,n=null,i=!0,z.forEach(function(e){var r=N(e,t||"true"===e.dataset.touched);r||n||(n=e),i=i&&r}),{valid:i,firstInvalid:n});if(!r.valid)return C&&(C.classList.remove("visually-hidden"),C.textContent="Uzupełnij poprawnie wyróżnione pola."),void(r.firstInvalid&&r.firstInvalid.focus());C&&(C.classList.remove("visually-hidden"),C.textContent="Wysyłanie…"),setTimeout(function(){C&&(C.textContent="Dziękujemy! Wiadomość została wysłana."),q.reset(),z.forEach(function(e){e.dataset.touched="",T(e,"")}),O()},800)}})}p();var j=a(".site-header");if(j){var F=!1,P=null,D=function(){var e=window.scrollY>8;e!==P&&(j.classList.toggle("is-scrolled",e),P=e),y(),F=!1};D(),window.addEventListener("scroll",function(){F||(F=!0,window.requestAnimationFrame(D))},{passive:!0})}renderFeaturedMenu().then(function(e){e&&"function"==typeof window.initReveal&&window.initReveal()}),initReveal(),b()})}(),document.addEventListener("DOMContentLoaded",function(){initScrollspy({pageClass:"page--gallery",ids:["wnetrza","dania","desery","napoje"],listSelector:'.gallery-tabs__list a[href^="#"]',stickySelector:".gallery-tabs",bottomPercent:"-55%",bottomPercentMobile:"-65%"})}),function(){const e=document.documentElement;if(!document.querySelector(".gallery__link"))return;let t=document.querySelector(".lb-overlay");if(!t){t=document.createElement("div"),t.className="lb-overlay",t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true"),t.setAttribute("aria-label","Podgląd zdjęcia");const e=document.createElement("div");e.className="lb-modal";const n=document.createElement("figure");n.className="lb-figure";const i=document.createElement("img");i.alt="",i.decoding="async",i.loading="eager";const r=document.createElement("figcaption");r.className="lb-caption";const a=document.createElement("div");a.className="lb-controls";const o=document.createElement("button");o.type="button",o.className="lb-btn lb-prev",o.setAttribute("aria-label","Poprzednie zdjęcie"),o.textContent="←";const c=document.createElement("span");c.className="lb-counter",c.textContent="1/1";const l=document.createElement("button");l.type="button",l.className="lb-btn lb-next",l.setAttribute("aria-label","Następne zdjęcie"),l.textContent="→";const u=document.createElement("button");u.type="button",u.className="lb-btn lb-full",u.setAttribute("aria-label","Pełny ekran"),u.textContent="⤢";const s=document.createElement("button");s.type="button",s.className="lb-btn lb-close",s.setAttribute("aria-label","Zamknij podgląd"),s.textContent="×",a.append(o,c,l,u,s);try{o.textContent="←",l.textContent="→",s.textContent="×",o.setAttribute("aria-label","Poprzednie zdjęcie"),o.setAttribute("title","Poprzednie zdjęcie"),l.setAttribute("aria-label","Następne zdjęcie"),l.setAttribute("title","Następne zdjęcie"),u.setAttribute("aria-label","Pełny ekran"),u.setAttribute("title","Pełny ekran"),s.setAttribute("aria-label","Zamknij podgląd"),s.setAttribute("title","Zamknij podgląd"),r.id="lb-caption",t.setAttribute("aria-label","Podgląd zdjęcia"),t.setAttribute("aria-describedby","lb-caption"),t.setAttribute("aria-keyshortcuts","Esc ArrowLeft ArrowRight F")}catch(e){}const d=document.createElement("div");d.className="visually-hidden",d.id="lb-live",d.setAttribute("aria-live","polite"),n.append(i,r),e.append(n,a,d),t.append(e),document.body.appendChild(t)}const n=t.querySelector("img"),i=t.querySelector(".lb-caption"),r=t.querySelector(".lb-close"),a=t.querySelector(".lb-prev"),o=t.querySelector(".lb-next"),c=t.querySelector(".lb-full"),l=t.querySelector(".lb-counter"),u=t.querySelector("#lb-live"),s=Array.prototype.slice.call(document.querySelectorAll("header, main, footer"));function d(e){s.forEach(function(t){if(t)if(e){try{t.setAttribute("inert","")}catch(e){}t.setAttribute("aria-hidden","true")}else{try{t.removeAttribute("inert")}catch(e){}t.removeAttribute("aria-hidden")}})}c&&!c.getAttribute("title")&&c.setAttribute("title","Pełny ekran (F)");let f=[],m=0,v=null;function p(){if(!n||!a||!o)return;const e=n.getBoundingClientRect();if(!e||!e.height)return;const t=e.top+e.height/2;a.style.top=t+"px",o.style.top=t+"px"}function h(e){const t=f[e];t&&(n.classList.remove("is-ready"),n.onload=function(){n.classList.add("is-ready"),p()},n.src=t.getAttribute("href"),i.textContent=function(e){if(!e)return"";const t=e.getAttribute("data-lb-caption");if(t)return t.trim();const n=e.querySelector("figcaption");if(n&&n.textContent.trim())return n.textContent.trim();const i=e.querySelector("img");return i&&i.alt.trim()?i.alt.trim():""}(t)||"",l.textContent=m+1+"/"+f.length,u&&(u.textContent="Obraz "+(m+1)+" z "+f.length),function(e){[f[e+1],f[e-1]].forEach(e=>{e&&((new Image).src=e.getAttribute("href"))})}(e),requestAnimationFrame(p))}function y(){e.classList.remove("lb-open"),n.removeAttribute("src"),v&&v.focus(),document.fullscreenElement&&document.exitFullscreen().catch(()=>{}),d(!1)}function g(){m=(m+1)%f.length,h(m)}function b(){m=(m-1+f.length)%f.length,h(m)}t.addEventListener("click",e=>{e.target}),document.addEventListener("keydown",n=>{if(e.classList.contains("lb-open"))if("Escape"!==n.key)if("ArrowRight"!==n.key&&"PageDown"!==n.key){if("ArrowLeft"!==n.key&&"PageUp"!==n.key)return"Home"===n.key?(m=0,void h(m)):"End"===n.key?(m=f.length-1,void h(m)):void("f"===n.key.toLowerCase()&&(document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():t.requestFullscreen&&t.requestFullscreen()));b()}else g();else y()}),window.addEventListener("resize",p),window.addEventListener("orientationchange",p),document.addEventListener("fullscreenchange",p);let w=0,A=0,E=0;t.addEventListener("touchstart",function(e){if(!e.changedTouches||!e.changedTouches.length)return;const t=e.changedTouches[0];w=t.clientX,A=t.clientY,E=Date.now()},{passive:!0}),t.addEventListener("touchend",function(e){if(!e.changedTouches||!e.changedTouches.length)return;const t=e.changedTouches[0],n=t.clientX-w,i=t.clientY-A,r=Date.now()-E;Math.abs(n)>40&&Math.abs(n)>Math.abs(i)&&r<600&&(n<0?g():b())},{passive:!0}),document.addEventListener("fullscreenchange",function(){e.classList.toggle("is-fullscreen",!!document.fullscreenElement)}),function(){let e=null;t.addEventListener("mousemove",function(n){const i=n.clientY-t.getBoundingClientRect().top;e&&cancelAnimationFrame(e),e=requestAnimationFrame(()=>function(e){if(document.fullscreenElement)return;t.classList.toggle("lb-topzone",e<=96)}(i))}),t.addEventListener("mouseleave",function(){t.classList.remove("lb-topzone")})}(),t.addEventListener("keydown",e=>{if("Tab"!==e.key)return;const n=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!n.length)return;const i=n[0],r=n[n.length-1];e.shiftKey&&document.activeElement===i?(r.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==r||(i.focus(),e.preventDefault())}),r.addEventListener("click",y),a.addEventListener("click",b),o.addEventListener("click",g),c.addEventListener("click",function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():t.requestFullscreen&&t.requestFullscreen()}),document.addEventListener("click",t=>{const n=t.target.closest(".gallery__link");if(!n)return;n.getAttribute("href")&&(t.preventDefault(),function(t){v=t;const n=t.getAttribute("data-lightbox")||"gallery";f=Array.prototype.slice.call(document.querySelectorAll(".gallery__link"+(n?'[data-lightbox="'+n+'"]':""))),m=Math.max(0,f.indexOf(t)),e.classList.add("lb-open"),h(m),requestAnimationFrame(()=>r.focus()),d(!0)}(n))})}(),"undefined"!=typeof window&&(window.initReveal=initReveal);var FALLBACK_IMAGE="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="960" height="640" viewBox="0 0 960 640"><rect width="960" height="640" fill="#f3ede3"/><rect x="18" y="18" width="924" height="604" fill="none" stroke="#e2d6c3" stroke-width="2"/><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" fill="#6b1e2f" font-family="sans-serif" font-size="24">Brak obrazu</text></svg>');function initImageFallbacks(e){(e||document).querySelectorAll(".menu-card__figure img, .gallery__img").forEach(function(e){e.dataset.fallbackBound||(e.dataset.fallbackBound="true",e.addEventListener("error",function(){e.dataset.fallbackApplied||(e.dataset.fallbackApplied="true",e.classList.add("img-fallback"),e.removeAttribute("srcset"),e.removeAttribute("sizes"),e.src=FALLBACK_IMAGE)}))})}var menuDataPromise=null;function fetchMenuDataOnce(){return menuDataPromise||(menuDataPromise=fetch("data/menu.json",{cache:"no-store"}).then(function(e){if(!e.ok)throw new Error("menu.json load failed");return e.json()}).then(function(e){return e&&Array.isArray(e.items)?e.items:[]}).catch(function(){return[]}))}var MENU_CARD_SIZES="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw";function buildMenuPictureMarkup(e,t){if(!e)return"";var n=(t=t||{}).loading||"lazy",i=t.fetchpriority?' fetchpriority="high"':"",r=e.sizes||MENU_CARD_SIZES,a=Array.isArray(e.variants)?e.variants:[],o=e.basePath||"",c=e.category||"",l=e.slug||"";if(!a.length)return"";var u=["avif","webp","jpg","png"],s=[];function d(e){return a.filter(function(t){return Array.isArray(t.formats)&&-1!==t.formats.indexOf(e)}).map(function(t){return o+"/"+c+"/"+l+"-"+t.width+"x"+t.height+"."+e+" "+t.width+"w"}).join(", ")}a.forEach(function(e){(e.formats||[]).forEach(function(e){-1===s.indexOf(e)&&s.push(e)})}),s.sort(function(e,t){return u.indexOf(e)-u.indexOf(t)});var f="jpg";-1===s.indexOf(f)&&(f=s[0]||"jpg");var m=a.filter(function(e){return Array.isArray(e.formats)&&-1!==e.formats.indexOf(f)}),v=(m.length?m:a).reduce(function(e,t){return!e||t.width>e.width?t:e},null),p=o+"/"+c+"/"+l+"-"+v.width+"x"+v.height+"."+f;return"<picture>"+s.filter(function(e){return e!==f}).map(function(e){var t=d(e);return t?'<source type="image/'+e+'" srcset="'+t+'" sizes="'+r+'" />':""}).join("")+'<img class="card__image" src="'+p+'" srcset="'+d(f)+'" sizes="'+r+'" alt="'+(e.alt||"")+'" loading="'+n+'"'+i+' decoding="async" width="'+v.width+'" height="'+v.height+'" /></picture>'}function buildMenuCardMarkup(e,t){if(!e)return"";var n=(t=t||{}).loading||"lazy",i=t.fetchpriority,r=e.image||{},a=(Array.isArray(e.tags)&&e.tags.length?e.tags:[]).map(function(e){return'<li class="menu-card__tag">'+e+"</li>"}).join(""),o=r.figcaption?'<figcaption class="visually-hidden">'+r.figcaption+"</figcaption>":"";return'<li class="card menu-card" data-reveal><article><figure class="menu-card__figure">'+buildMenuPictureMarkup(r,{loading:n,fetchpriority:i})+o+'</figure><div class="card__body"><div class="menu-card__heading"><h3 class="card__title">'+e.title+'</h3><span class="menu-card__price">'+e.price+'</span></div><p class="card__text">'+e.description+"</p>"+(a?'<ul class="menu-card__tags">'+a+"</ul>":"")+"</div></article></li>"}function renderFeaturedMenu(){var e=document.querySelector('[data-menu-featured="true"]');return e?fetchMenuDataOnce().then(function(t){if(!t.length)return!1;var n=[];["przystawki","dania-glowne","desery"].forEach(function(e){var i=t.find(function(t){return t.category===e});i&&n.push(i)}),n.length<3&&(n=t.slice(0,3));var i=n.map(function(e,t){return buildMenuCardMarkup(e,{loading:0===t?"eager":"lazy",fetchpriority:0===t})}).join("");return!!i&&(e.innerHTML=i,initImageFallbacks(e),!0)}):Promise.resolve(!1)}function renderMenuByCategory(){var e=Array.prototype.slice.call(document.querySelectorAll("[data-menu-category]"));return e.length?fetchMenuDataOnce().then(function(t){if(!t.length)return!1;var n=!0;return e.forEach(function(e){var i=e.getAttribute("data-menu-category");if(i){var r=t.filter(function(e){return e.category===i});if(r.length){var a=r.map(function(e,t){var i=n;return n=!1,buildMenuCardMarkup(e,{loading:i?"eager":"lazy",fetchpriority:i})}).join("");a&&(e.innerHTML=a),a&&initImageFallbacks(e)}}}),!0}):Promise.resolve(!1)}document.addEventListener("DOMContentLoaded",function(){document.body&&document.body.classList.contains("page--menu")&&(initScrollspy({pageClass:"page--menu",ids:["przystawki","dania-glowne","zupy","kuchnia-szefa","desery","drinki"],listSelector:'.menu-tabs__list a[href^="#"]',stickySelector:".menu-navigation",topPercent:"-40%",bottomPercent:"-55%",bottomPercentMobile:"-65%"}),renderMenuByCategory().then(function(e){!function(){var e=document.getElementById("menu-search"),t=document.querySelector(".menu-filters .filters");if(e&&t){var n=Array.prototype.slice.call(t.querySelectorAll("button[data-filter]")),i=Array.prototype.slice.call(document.querySelectorAll(".menu-card")),r=document.querySelector(".filters__empty");i.forEach(function(e){var t=Array.prototype.slice.call(e.querySelectorAll(".menu-card__tag")).map(function(e){return(e.textContent||"").trim()}).filter(Boolean);e.setAttribute("data-tags",t.join(","))});var a,o,c="*",l="",u=null;e.addEventListener("input",(a=function(){l=e.value||"",d()},o=200,function(){var e=arguments;clearTimeout(u),u=setTimeout(function(){a.apply(null,e)},o)})),t.addEventListener("click",function(e){var t=e.target.closest("button[data-filter]");t&&(n.forEach(function(e){e.classList.toggle("is-active",e===t)}),c=t.getAttribute("data-filter")||"*",d())}),d()}function s(e){return(e||"").toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function d(){var e=0,t=s(l);i.forEach(function(n){var i=n.querySelector(".card__title"),r=n.querySelector(".card__text"),a=s((i&&i.textContent)+" "+(r&&r.textContent)),o=!t||-1!==a.indexOf(t),l=(n.getAttribute("data-tags")||"").split(",").map(function(e){return e.trim()}),u="*"===c||-1!==l.indexOf(c),d=o&&u;n.style.display=d?"":"none",d&&e++}),r&&(r.hidden=0!==e,0===e&&(r.textContent="Brak pozycji spełniających kryteria."))}}(),Array.prototype.slice.call(document.querySelectorAll(".menu-card__price")).forEach(function(e){var t=(e.textContent||"").trim(),n=t.match(/[0-9]+(?:[\.,][0-9]+)?/),i=n?n[0]:t;e.setAttribute("aria-label",i+" złotych")}),Array.prototype.slice.call(document.querySelectorAll(".menu-card")).forEach(function(e){var t=e.querySelector("figure"),n=t?t.querySelector("img"):null,i=e.querySelector(".card__title"),r=e.querySelector(".card__text");if(t){var a=i?i.textContent.trim():"",o=r?r.textContent.trim():"";n&&a&&(n.alt=a);var c=t.querySelector("figcaption"),l=a+(o?". "+o:"")+" — alergeny: wg obsługi.";if(c)c.textContent=l,c.classList.add("visually-hidden");else{var u=document.createElement("figcaption");u.className="visually-hidden",u.textContent=l,t.appendChild(u)}}}),function(){function e(e){if(e){var t,n=e.getAttribute("id");if(n||(t=e.textContent,(n=(t||"").toString().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-"))&&e.setAttribute("id",n)),n&&!e.querySelector(".anchor")){var i=document.createElement("a");i.className="anchor",i.href="#"+n,i.setAttribute("aria-label","Kopiuj link do tego elementu"),i.addEventListener("click",function(e){e.preventDefault();var t=location.origin+location.pathname+"#"+n;if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then(function(){i.setAttribute("aria-label","Skopiowano link"),setTimeout(function(){i.setAttribute("aria-label","Kopiuj link do tego elementu")},1e3)});else{var r=document.createElement("input");r.value=t,document.body.appendChild(r),r.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(r)}"undefined"!=typeof history&&history.replaceState&&history.replaceState(null,"","#"+n)}),e.appendChild(i)}}}document.querySelectorAll(".menu-section__header h2").forEach(e),document.querySelectorAll(".card__title").forEach(e)}(),e&&"function"==typeof window.initReveal&&window.initReveal()}))});