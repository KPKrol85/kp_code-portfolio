# Image Optimization Pipeline

## Folders
- Source images: `assets/img/src/`
- Optimized output: `assets/img/optimized/`

Only place original `.jpg`, `.jpeg`, `.png` files in `assets/img/src/`.  
Generated `.webp` and `.avif` files are written to `assets/img/optimized/` with the same subfolder structure.

## Commands
- `npm run img:opt` - one-time optimization run
- `npm run img:clean` - remove only `assets/img/optimized/`
- `npm run img:watch` - watch `assets/img/src/` and process changed files

## Defaults
- WebP: quality `80`
- AVIF: quality `50`, effort `4`
- Max width: `2000px` (no upscaling)

## CSS Pipeline

### Workflow
- Entry file: `css/style.css`
- Generated output: `css/style.min.css`
- Modular folder (prepared for incremental migration): `css/modules/`

Do not edit `css/style.min.css` directly. It is generated by PostCSS.

### Commands
- `npm run css:build` - build minified CSS once
- `npm run css:watch` - watch `css/style.css` (and imported modules) and rebuild on changes

### Modules (prepared)
- `css/modules/tokens.css`
- `css/modules/base.css`
- `css/modules/layout.css`
- `css/modules/components.css`
- `css/modules/sections.css`
- `css/modules/utilities.css`
- `css/modules/themes.css`
- `css/modules/motion.css`
- `css/modules/print.css`
