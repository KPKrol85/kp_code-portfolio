const revealNoop=()=>{};let isRevealInitialized=!1,destroyReveal=revealNoop;function revealAllImmediately(e){e.forEach(e=>{e.classList.add("is-revealed"),e.dataset.revealReady="true"})}function initReveal(){if(isRevealInitialized)return destroyReveal;document.documentElement.classList.add("js");const e=document.querySelectorAll("[data-reveal]");if(!e.length)return destroyReveal=revealNoop,destroyReveal;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||!("IntersectionObserver"in window))return revealAllImmediately(e),isRevealInitialized=!0,destroyReveal=()=>{isRevealInitialized=!1,destroyReveal=revealNoop},destroyReveal;const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-revealed"),e.target.dataset.revealReady="true",t.unobserve(e.target))})},{threshold:.2});return e.forEach(e=>{"true"!==e.dataset.revealReady&&(t.observe(e),e.dataset.revealReady="true")}),isRevealInitialized=!0,destroyReveal=()=>{t.disconnect(),isRevealInitialized=!1,destroyReveal=revealNoop},destroyReveal}const headerShrinkNoop=()=>{};let isHeaderShrinkInitialized=!1,destroyHeaderShrink=headerShrinkNoop;function initHeaderShrink(){if(isHeaderShrinkInitialized)return destroyHeaderShrink;const e=document.querySelector("[data-header]");if(!e)return destroyHeaderShrink=headerShrinkNoop,destroyHeaderShrink;const t=new AbortController,{signal:i}=t;let n=null;const r=()=>{n=null,window.scrollY>12?e.classList.add("header--scrolled"):e.classList.remove("header--scrolled")};return r(),window.addEventListener("scroll",()=>{null===n&&(n=window.requestAnimationFrame(r))},{passive:!0,signal:i}),isHeaderShrinkInitialized=!0,destroyHeaderShrink=()=>{t.abort(),null!==n&&(window.cancelAnimationFrame(n),n=null),e.classList.remove("header--scrolled"),isHeaderShrinkInitialized=!1,destroyHeaderShrink=headerShrinkNoop},destroyHeaderShrink}const focusableSelectors=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])","[tabindex]:not([tabindex='-1'])"];function getFocusableElements(e){return e?[...e.querySelectorAll(focusableSelectors.join(","))].filter(e=>!e.hasAttribute("disabled")&&("true"!==e.getAttribute("aria-hidden")&&(null!==e.offsetParent||e===document.activeElement))):[]}const mobileNavNoop=()=>{},supportsInert="inert"in HTMLElement.prototype;let destroyMobileNav=mobileNavNoop,isMobileNavInitialized=!1;function initMobileNav(){if(isMobileNavInitialized)return destroyMobileNav;const e=document.querySelector("[data-nav-toggle]"),t=document.querySelector("[data-mobile-nav]"),i=document.querySelector("[data-nav-close]"),n=t?.querySelector(".mobile-nav__list")||t,r=window.matchMedia("(min-width: 700px)");let o=null;if(!(e&&t&&i&&n))return destroyMobileNav=mobileNavNoop,destroyMobileNav;const s=new AbortController,{signal:l}=s;let a=!1,d=null,c=!1,u="",h="";const v=new Map,f=()=>{v.clear(),(()=>{const e=[],i=new Set,n=n=>{!n||i.has(n)||n===t||t.contains(n)||n.contains(t)||(i.add(n),e.push(n))};[...document.body.children].forEach(n);const r=t.closest("header");return r&&[...r.children].forEach(n),e})().forEach(e=>{v.set(e,{ariaHidden:e.getAttribute("aria-hidden"),inert:supportsInert?e.inert:null}),e.setAttribute("aria-hidden","true"),supportsInert&&(e.inert=!0)})},m=()=>{a||(d=document.activeElement instanceof HTMLElement?document.activeElement:e,t.hidden=!1,supportsInert&&(t.inert=!1),e.setAttribute("aria-expanded","true"),(()=>{if(c)return;u=document.body.style.overflow,h=document.body.style.paddingRight;const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=e>0?`${e}px`:h,c=!0})(),f(),(()=>{const e=getFocusableElements(t);e.length?e[0].focus():t.focus()})(),a=!0)},y=({restoreFocus:i=!0}={})=>{if((a||!t.hidden)&&(supportsInert&&(t.inert=!0),t.hidden=!0,e.setAttribute("aria-expanded","false"),c&&(document.body.style.overflow=u,document.body.style.paddingRight=h,c=!1),v.forEach((e,t)=>{null===e.ariaHidden?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",e.ariaHidden),supportsInert&&null!==e.inert&&(t.inert=e.inert)}),v.clear(),a=!1,i)){(d&&document.contains(d)?d:e).focus()}},b=()=>{r.matches?y({restoreFocus:!1}):supportsInert&&(t.inert=t.hidden)};return e.addEventListener("click",()=>{a?y():m()},{signal:l}),i.addEventListener("click",()=>y(),{signal:l}),t.addEventListener("click",e=>{e.target===t&&y()},{signal:l}),document.addEventListener("keydown",e=>{if(!a||t.hidden)return;if("Escape"===e.key)return e.preventDefault(),void y();if("Tab"!==e.key)return;const i=getFocusableElements(t);if(!i.length)return e.preventDefault(),void t.focus();const n=i[0],r=i[i.length-1];if(!t.contains(document.activeElement))return e.preventDefault(),void n.focus();e.shiftKey&&document.activeElement===n?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),n.focus())},{signal:l}),n.addEventListener("click",e=>{const t=e.target.closest("a[href]");t&&n.contains(t)&&"_blank"!==t.target&&y()},{signal:l}),r.addEventListener?(r.addEventListener("change",b,{signal:l}),o="event"):r.addListener&&(r.addListener(b),o="listener"),b(),t.dataset.initialized="true",isMobileNavInitialized=!0,destroyMobileNav=()=>{"listener"===o&&r.removeListener&&r.removeListener(b),s.abort(),y({restoreFocus:!1}),t.dataset.initialized="false",d=null,isMobileNavInitialized=!1,destroyMobileNav=mobileNavNoop},destroyMobileNav}const scheduleFilterNoop=()=>{};let isScheduleFilterInitialized=!1,destroyScheduleFilter=scheduleFilterNoop;function initScheduleFilter(){if(isScheduleFilterInitialized)return destroyScheduleFilter;const e=document.querySelector(".schedule__filters"),t=Array.from(e?.querySelectorAll("button[data-filter]")||[]),i=Array.from(document.querySelectorAll(".schedule-card")),n=document.getElementById("schedule-results"),r=document.getElementById("schedule-results-count"),o=document.getElementById("schedule-status");if(!e||!t.length||!i.length)return destroyScheduleFilter=scheduleFilterNoop,destroyScheduleFilter;const s=new AbortController,{signal:l}=s,a=e=>e?.textContent?.trim()||"Wszystko",d=e=>{t.forEach(t=>{const i=t===e;t.classList.toggle("is-active",i),t.setAttribute("aria-pressed",String(i)),n?.id&&t.setAttribute("aria-controls",n.id)})},c=(e,t)=>{const i=`Wyniki: ${e}`,n=`Pokazywanie ${e} wynikÃ³w dla filtra ${t}.`;r&&(r.textContent=i),o&&(o.textContent=n)},u=(e,t)=>{let n=0;i.forEach(t=>{const i=t.dataset.category,r="all"===e||e===i;((e,t)=>{if(t)return e.removeAttribute("hidden"),void e.removeAttribute("aria-hidden");e.setAttribute("hidden",""),e.setAttribute("aria-hidden","true")})(t,r),r&&(n+=1)}),c(n,t)},h=t.find(e=>e.classList.contains("is-active"))||t[0];return d(h),u(h.dataset.filter||"all",a(h)),e.addEventListener("click",t=>{const i=t.target.closest("button[data-filter]");if(!i||!e.contains(i))return;const n=i.dataset.filter||"all",r=a(i);d(i),u(n,r)},{signal:l}),isScheduleFilterInitialized=!0,destroyScheduleFilter=()=>{s.abort(),t.forEach((e,t)=>{const i=0===t;e.classList.toggle("is-active",i),e.setAttribute("aria-pressed",String(i)),n?.id&&e.setAttribute("aria-controls",n.id)}),i.forEach(e=>{e.removeAttribute("hidden"),e.removeAttribute("aria-hidden")}),c(i.length,a(t[0])),isScheduleFilterInitialized=!1,destroyScheduleFilter=scheduleFilterNoop},destroyScheduleFilter}const STORAGE_KEY="activelife-theme";function initThemeToggle(){const e=document.querySelector("[data-theme-toggle]");if(!e)return;const t=window.matchMedia("(prefers-color-scheme: dark)").matches;function i(t){document.documentElement.setAttribute("data-theme",t),e.setAttribute("aria-pressed","dark"===t?"true":"false")}i(localStorage.getItem(STORAGE_KEY)||(t?"dark":"light")),e.addEventListener("click",()=>{const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";i(e),localStorage.setItem(STORAGE_KEY,e)})}function initActiveSection(){const e=Array.from(document.querySelectorAll(".nav__link[href^='#']"));if(!e.length)return()=>{};const t=e.map(e=>{const t=e.getAttribute("href")?.slice(1);if(!t)return null;const i=document.getElementById(t);return i?{id:t,section:i}:null}).filter(Boolean);if(!t.length)return()=>{};const i=new Map(e.map(e=>[e.getAttribute("href")?.slice(1),e]));let n=null;const r=t=>{t&&t!==n&&(n=t,e.forEach(e=>{e.classList.toggle("is-active",e.getAttribute("href")===`#${t}`)}))},o=new AbortController,{signal:s}=o,l=({hysteresisPx:e=0,fallbackToClosest:i=!0}={})=>{const r=.38*window.innerHeight;let o=null,s=Number.POSITIVE_INFINITY;if(t.forEach(({id:e,section:t})=>{const i=t.getBoundingClientRect(),n=Math.abs(i.top-r);n<s&&(s=n,o=e)}),n){const l=t.find(({id:e})=>e===n)?.section;if(l){const t=Math.abs(l.getBoundingClientRect().top-r);if(o!==n&&s>=t-e)return n;if(!i&&t<=e)return n}}return o};if("IntersectionObserver"in window){const e=new IntersectionObserver(e=>{const t=e.filter(e=>e.isIntersecting);if(!t.length)return;const o=.38*window.innerHeight,s=t.reduce((e,t)=>{const i=Math.abs(e.boundingClientRect.top-o),n=Math.abs(t.boundingClientRect.top-o);return n<i||n===i&&t.intersectionRatio>e.intersectionRatio?t:e}).target.getAttribute("id");if(!s||!i.has(s))return;const a=n&&s!==n?l({hysteresisPx:.08*window.innerHeight}):s;r(a||s)},{threshold:[.25,.5,.75],rootMargin:"-20% 0px -45% 0px"});return t.forEach(({section:t})=>e.observe(t)),r(l()),()=>{e.disconnect(),o.abort()}}let a=!1;const d=()=>{a||(a=!0,window.requestAnimationFrame(()=>{const e=l({hysteresisPx:.08*window.innerHeight});r(e),a=!1}))};return window.addEventListener("scroll",d,{passive:!0,signal:s}),window.addEventListener("resize",d,{passive:!0,signal:s}),d(),()=>{o.abort()}}document.documentElement.classList.add("js"),initReveal(),initThemeToggle();const moduleInitializers=[initHeaderShrink,initMobileNav,initScheduleFilter,initActiveSection],destroys=[];function destroyAll(){for(;destroys.length;){const e=destroys.pop();"function"==typeof e&&e()}}function initAll(){destroyAll(),moduleInitializers.forEach(e=>{const t=e();destroys.push("function"==typeof t?t:()=>{})})}initAll(),window.initAll=initAll,window.destroyAll=destroyAll,"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")});